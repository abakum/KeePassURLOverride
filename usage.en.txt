KiTTY have -loginscript option: http://www.9bis.net/kitty/#!pages/LogonScript.md
For call KiTTY from KeePass with -loginscript use url like: telnet|tls|serial|ssh|rsa://serverIP/expectPartFirst/sendPartFirst/expectPartSecond/sendPartSecond/.../expectPartLast/sendPartLast?other options for KiTTY
any part of path my be placeholder https://keepass.info/help/base/placeholders.html
like: telnet|serial|ssh|rsa://serverIP/{notes}
where in notes:
expectPartFirst
sendPartFirst
expectPartSecond
sendPartSecond
...
expectPartLast
sendPartLast

For example:
telnet://10.30.15.133/me:/{REF:U@T:tacacs}/rd:/{REF:P@T:tacacs}/>/su/rd:/{REF:P@U:apteka}/sy
or
tls://10.30.15.133/me:/{REF:U@T:tacacs}/rd:/{REF:P@T:tacacs}/>/su/rd:/{REF:P@U:apteka}/sy?-xpos 0 -ypos 0
call kitty with login script:
me:
{REF:U@T:tacacs}
rd:
{REF:P@T:tacacs}
>
su
rd:
{REF:P@U:apteka}
sy

KeePass ignored {URL:QUERY} if {URL:SCM} is telnet, use tls instead telnet for that

or
serial://com5:9600/me:/{REF:U@T:con0}/rd:/{REF:P@T:con0}/%23/conf t
call kitty with login script:
me:
{REF:U@T:con0}
rd:/{REF:P@T:con0}
#
conf t

where %23 in path is uri encoded char # ({URL:PATH} must ended with ? or # {URL:QUERY} must ended with #)
use %23 for char # in login script
use %3F for char ? in login script
use %2F for char / in login script

If path to portable_kitty.exe is KeePass\..\KiTTY\portable_kitty.exe
set URL override as: [KiTTYurlOverride](https://github.com/abakum/KeePassURLOverride/blob/main/KiTTYurlOverride)
write in catalog with KiTTY_portable.exe KiTTY_portable.bat: [KiTTY_portable.bat](https://github.com/abakum/KeePassURLOverride/blob/main/KiTTY_portable.bat)

How it work:
1) replace first / of path with empty string: {T-REPLACE-RX:|{URL:PATH}|^/||}
2) replace other / of path witn %0D%0A: {T-REPLACE-RX:\{T-REPLACE-RX:|{URL:PATH}|^/||}\/\%0D%0A\}
3) decode uri to login script: {T-CONV:`{T-REPLACE-RX:\{T-REPLACE-RX:|{URL:PATH}|^/||}\/\%0D%0A\}`uri-dec`}
4) encode login script to base64 string for pass to bat file as argument: "{T-CONV:<{T-CONV:`{T-REPLACE-RX:\{T-REPLACE-RX:|{URL:PATH}|^/||}\/\%0D%0A\}`uri-dec`}<base64<}"
5) replace first ? of query with empty string: {T-REPLACE-RX:|{URL:QUERY}|^\?||}
6) decode uri to command line for KiTTY: {T-CONV:`{T-REPLACE-RX:|{URL:QUERY}|^\?||}`Uri-Dec`}
